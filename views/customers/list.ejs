<!-- üìå customers/list.ejs -->
<!DOCTYPE html>
<html lang="pt">
<head>
    <title>Lista de Clientes</title>
</head>
<body>
    <h2>Clientes</h2>
    <% if (messageError) { %>
        <p style="color: red;"><%= messageError %></p>
    <% } %>
    <% if (messageSuccess) { %>
        <p style="color: green;"><%= messageSuccess %></p>
    <% } %>
    <ul>
        <% customers.forEach(customer => { %>
            <li>
                <%= customer.name %> - 
                <% if (customer.customerInfo) { %>
                    <%= customer.customerInfo.document %> - <%= customer.customerInfo.email %>
                <% } else { %>
                    <em>Sem informa√ß√µes cadastradas</em>
                <% } %>
                <a href="/customers/view/<%= customer.id %>">Visualizar</a>
                <a href="/customers/edit/<%= customer.id %>">Editar</a>
                <form action="/customers/delete/<%= customer.id %>" method="POST" style="display:inline;">
                    <button type="submit">Deletar</button>
                </form>
            </li>
        <% }) %>
        
    </ul>
    <a href="/customers/create">Adicionar Cliente</a>
    <a href="/dashboard">Voltar</a>
</body>
</html>